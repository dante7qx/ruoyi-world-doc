---
title: DeepSeek
date: 2025-04-09 10:05:11
permalink: /pages/2c0778/
categories:
  - AI
---

# DeepSeekæ•™ç¨‹

## ä¸€. æ¦‚è¿°

DeepSeek-R1 æ˜¯ç”±æ·±åº¦æ±‚ç´¢ï¼ˆDeepSeekï¼‰å…¬å¸å¼€å‘çš„é«˜æ€§èƒ½ AI æ¨ç†æ¨¡å‹ï¼Œä¸“æ³¨äºæ•°å­¦ã€ä»£ç å’Œè‡ªç„¶è¯­è¨€æ¨ç†ä»»åŠ¡ã€‚å…¶æ ¸å¿ƒä¼˜åŠ¿åŒ…æ‹¬ï¼š

- å¼ºåŒ–å­¦ä¹ é©±åŠ¨ï¼šé€šè¿‡å¼ºåŒ–å­¦ä¹ æŠ€æœ¯æ˜¾è‘—æå‡æ¨ç†èƒ½åŠ›ï¼Œä»…éœ€å°‘é‡æ ‡æ³¨æ•°æ®å³å¯é«˜æ•ˆè®­ç»ƒã€‚
- é•¿é“¾æ¨ç†ï¼ˆCoTï¼‰ï¼šæ”¯æŒå¤šæ­¥éª¤é€»è¾‘æ¨ç†ï¼Œèƒ½å¤Ÿé€æ­¥åˆ†è§£å¤æ‚é—®é¢˜å¹¶è§£å†³ã€‚
- æ¨¡å‹è’¸é¦ï¼šæ”¯æŒå°†æ¨ç†èƒ½åŠ›è¿ç§»åˆ°æ›´å°å‹çš„æ¨¡å‹ä¸­ï¼Œé€‚åˆèµ„æºæœ‰é™çš„åœºæ™¯ã€‚
- å¼€æºç”Ÿæ€ï¼šéµå¾ª MIT å¼€æºåè®®ï¼Œå…è®¸ç”¨æˆ·è‡ªç”±ä½¿ç”¨ã€ä¿®æ”¹å’Œå•†ç”¨ã€‚

DeepSeek-R1 åœ¨å¤šä¸ªåŸºå‡†æµ‹è¯•ä¸­è¡¨ç°ä¼˜å¼‚ï¼Œæ€§èƒ½å¯¹æ ‡ OpenAI çš„ o1 æ­£å¼ç‰ˆï¼ŒåŒæ—¶å…·æœ‰æ›´é«˜çš„æ€§ä»·æ¯”ã€‚

## äºŒ. å®‰è£…

ç¯å¢ƒä¸ºè™šæ‹Ÿæœº Rocky9.5ï¼Œä½¿ç”¨ [Ollama](https://ollama.com/) æ¥å®‰è£… `deepseek-r1`ã€‚

é…ç½®ï¼š4C8G 50G

::: tip
1.é…ç½®é™æ€IP
```shell
## vim vim /etc/NetworkManager/system-connections/enp160.nmconnection
[ipv4]                                               
method=manual
address=172.16.125.183/24,172.16.125.2               ## ä¿®æ”¹IPï¼Œå­ç½‘æ©ç ï¼›ç½‘å…³
dns=8.8.8.8

## é‡å¯ç½‘ç»œæœåŠ¡
nmcli connection reload
nmcli connection down enp160
nmcli connection up enp160

## æµ‹è¯•
ping baidu.com
## æŸ¥çœ‹IP
ip a
```
2. å®‰è£…åŸºæœ¬å·¥å…·
```shell
dnf install -y tar 
dnf install python3.9-pip 
pip3 install tldr
```
3. å…³é—­SELINUX
```shell
grubby --update-kernel ALL --args selinux=0
## ä¿®æ”¹ /etc/selinux/config
# SELINUX=enforcing
SELINUX=disabled
## é‡å¯
reboot
```
:::

### 1. ä¸‹è½½å®‰è£…`Ollama`

(1) è¿è¡Œ `curl -fsSL https://ollama.com/install.sh | sh` è‡ªåŠ¨å®‰è£…ã€‚

(2) æ‰‹åŠ¨å®‰è£…
 - æ ¹æ®ç³»ç»Ÿä¸‹è½½å¯¹åº”çš„ollamaï¼Œä¸‹è½½åœ°å€ï¼š<a href="https://github.com/ollama/ollama/releases">https://github.com/ollama/ollama/releases</a>
 - å®‰è£…æ­¥éª¤ï¼Œå‚è€ƒ[å®˜ç½‘](https://github.com/datawhalechina/handy-ollama/blob/main/docs/C2/3.%20Ollama%20%E5%9C%A8%20Linux%20%E4%B8%8B%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE.md)
```shell
cd /opt
tar xvf ollama-linux-amd64.tgz --directory=/usr/local/lib/ollama
ln -sf /usr/local/lib/ollama/bin/ollama /usr/local/bin/ollama

## ä¸º Ollama åˆ›å»ºç”¨æˆ·å’Œç»„
sudo useradd -r -s /bin/false -U -m -d /usr/share/ollama ollama
sudo usermod -a -G ollama $(whoami)

## åœ¨è¯¥ä½ç½®ï¼š/etc/systemd/system/ollama.service åˆ›å»ºæœåŠ¡æ–‡ä»¶
[Unit]
Description=Ollama Service
After=network-online.target

[Service]
ExecStart=/usr/local/bin/ollama serve
User=ollama
Group=ollama
Restart=always
RestartSec=3
Environment="PATH=$PATH"
Environment="OLLAMA_HOST=0.0.0.0"
Environment="OLLAMA_ORIGINS=*"

[Install]
WantedBy=default.target

## å¯åŠ¨æœåŠ¡
systemctl daemon-reload
systemctl enable ollama

## æŸ¥çœ‹æ—¥å¿—
journalctl -e -u ollama

# æœ¬åœ°å¯é€šè¿‡æµè§ˆå™¨è®¿é—®ï¼Œé˜²ç«å¢™å¼€æ”¾ç«¯å£ 11434ã€‚
# ss -tulnp | grep ollama 
http://172.16.125.183:11434
```

### 2. éƒ¨ç½²deepseek-r1:1.5b

```shell
ollama run deepseek-r1:1.5b

# çœ‹åˆ°å¦‚ä¸‹ä¿¡æ¯
[root@localhost ~]# ollama run deepseek-r1:1.5b
>>> ä½ å¥½
<think>

</think>

ä½ å¥½ï¼å¾ˆé«˜å…´è§åˆ°ä½ ï¼Œæœ‰ä»€ä¹ˆæˆ‘å¯ä»¥å¸®å¿™çš„å—ï¼Ÿæ— è®ºæ˜¯é—®é¢˜ã€å»ºè®®è¿˜æ˜¯é—²èŠï¼Œæˆ‘éƒ½åœ¨è¿™å„¿å‘¢ï¼ğŸ˜Š

>>> /bye
[root@localhost ~]#
```

### 3. å®‰è£…open-webui ç•Œé¢åŒ–è®¿é—®

>> å®˜æ–¹ç½‘ç«™ï¼šhttps://docs.openwebui.com/

1. å®‰è£…`Docker CE`

   å‚è€ƒ`https://www.rockylinux.cn/notes/zai-rocky-linux-9-1-shang-an-zhuang-docker-ce.html`
```shell
# æ·»åŠ Docker Repo
dnf config-manager --add-repo=https://download.docker.com/linux/centos/docker-ce.repo
# æ›´æ–°æº
dnf update
# åœ¨å®‰è£… Docker CE çš„æ—¶å€™ï¼Œä¼šåŒæ­¥å®‰è£… docker-compose-plugin æ’ä»¶
dnf install -y docker-ce
# å»ºè®®æ·»åŠ æ™®é€šç”¨æˆ·è‡³Dockerç»„ï¼Œå¹¶ä»¥æ™®é€šç”¨æˆ·è¿è¡ŒDocker
usermod -aG docker $USER
# ç”Ÿæ•ˆç»„ç”¨æˆ·å˜æ›´é…ç½®
newgrp docker
# å¯åŠ¨docker
systemctl start docker
# å¼€æœºå¯åŠ¨
systemctl enable docker
```
   
2. ä¸‹è½½é•œåƒå¹¶è¿è¡Œ

```shell
docker pull ghcr.io/open-webui/open-webui:main

## è‹¥ Ollama è¿è¡Œåœ¨åŒä¸€å°æœåŠ¡å™¨
docker run -d -p 8100:8080 --add-host=host.docker.internal:host-gateway -v /data/open-webui:/app/backend/data --name open-webui --restart always ghcr.io/open-webui/open-webui:main

## é˜²ç«å¢™æ·»åŠ ç«¯å£8100
firewall-cmd --permanent --zone=public --add-port=11434/tcp
firewall-cmd --reload
```


## äº”. å‚è€ƒèµ„æ–™

- https://deepseek.csdn.net/67bed5ff2e30c8639006e534.html
- https://blog.csdn.net/soso678/article/details/145670623
- https://deepseek.csdn.net/67bed5ff2e30c8639006e534.html
- https://docs.openwebui.com

